<html><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gotham's Twisted Carnival</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    background-color: transparent;
    font-family: 'Gotham', sans-serif;
  }
  #carnivalContainer {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }
  #batmanFigure {
    position: absolute;
    width: 200px;
    height: 300px;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 300"><path d="M100 0 L200 100 L150 300 L50 300 L0 100 Z" fill="%23333"/><path d="M75 50 L125 50 L115 75 L85 75 Z" fill="white"/><circle cx="90" cy="40" r="5" fill="red"/><circle cx="110" cy="40" r="5" fill="red"/></svg>') no-repeat center center;
    background-size: contain;
    transition: all 0.3s ease;
    filter: drop-shadow(0 0 20px rgba(255, 0, 0, 0.8));
  }
  #videoPlayer {
    position: absolute;
    width: 320px;
    height: 180px;
    border: 5px solid #fff;
    box-shadow: 
      0 0 20px #4d79ff,
      0 0 40px #4d79ff,
      0 0 60px #4d79ff,
      0 0 80px #4d79ff;
    opacity: 0.8;
    transition: all 0.5s ease;
    animation: videoGlow 3s infinite alternate;
  }
  @keyframes videoGlow {
    0% { box-shadow: 0 0 20px #4d79ff, 0 0 40px #4d79ff, 0 0 60px #4d79ff, 0 0 80px #4d79ff; }
    100% { box-shadow: 0 0 40px #ff4d4d, 0 0 80px #ff4d4d, 0 0 120px #ff4d4d, 0 0 160px #ff4d4d; }
  }
  .jokerLaugh {
    position: absolute;
    font-size: 24px;
    color: #ff00ff;
    text-shadow: 0 0 10px #ff00ff;
    opacity: 0;
    animation: laugh 5s infinite;
  }
  @keyframes laugh {
    0%, 100% { opacity: 0; transform: scale(0.5); }
    50% { opacity: 1; transform: scale(1.5); }
  }
</style>
</head>
<body>
  <div id="carnivalContainer">
    <div id="batmanFigure"></div>
    <iframe id="videoPlayer" src="https://www.youtube.com/embed/KOrXKiSy8ZY?autoplay=1&mute=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
  </div>

  <script>
    const carnivalContainer = document.getElementById('carnivalContainer');
    const batmanFigure = document.getElementById('batmanFigure');
    const videoPlayer = document.getElementById('videoPlayer');
    
    function getRandomPosition(element) {
      const x = Math.random() * (window.innerWidth - element.offsetWidth);
      const y = Math.random() * (window.innerHeight - element.offsetHeight);
      return { x, y };
    }

    function moveElement(element) {
      const { x, y } = getRandomPosition(element);
      element.style.left = `${x}px`;
      element.style.top = `${y}px`;
      element.style.transform = `rotate(${Math.random() * 360}deg)`;
    }

    function carnivalMode() {
      moveElement(batmanFigure);
      moveElement(videoPlayer);
      setTimeout(carnivalMode, 1000 + Math.random() * 2000);
    }

    function pulseVideo() {
      const scale = 1 + Math.sin(Date.now() * 0.003) * 0.1;
      videoPlayer.style.transform += ` scale(${scale})`;
      requestAnimationFrame(pulseVideo);
    }

    function createJokerLaugh() {
      const laugh = document.createElement('div');
      laugh.className = 'jokerLaugh';
      laugh.textContent = 'HA HA HA!';
      laugh.style.left = `${Math.random() * window.innerWidth}px`;
      laugh.style.top = `${Math.random() * window.innerHeight}px`;
      carnivalContainer.appendChild(laugh);
      setTimeout(() => carnivalContainer.removeChild(laugh), 5000);
    }

    carnivalMode();
    pulseVideo();
    setInterval(createJokerLaugh, 3000);

    document.addEventListener('click', () => {
      const audio = new Audio('https://gotham-city-chaos.com/carnival-sound.mp3');
      audio.play();
      carnivalContainer.style.animation = 'flash 0.1s 3';
      setTimeout(() => carnivalContainer.style.animation = 'none', 300);
    });
  </script>
</body>
</html>
